{% include 'admin/partials/header.twig' with {'page_title': 'Posts'} %}

<div class="wrap">
    {% include 'admin/partials/sidebar.twig' with {'active': 'posts'} %}

    <div class="content-area">
        <div class="page-heading">
            <h2 class="title">Posts</h2>
            <a href="/admin/posts/new" class="btn btn-primary">New Post</a>
        </div>

        <div class="posts">
            {% for post in posts %}
                <div class="post" data-status="{{ post.data.status }}">
                    <a href="/admin/posts/edit/{{ post.data.id }}">
                        <div class="row">
                            <h3 class="title">
                                {% if post.data.title is same as '' %}
                                    <em>Untitled...</em>
                                {% else %}
                                    {{ post.data.title  }}
                                {% endif %}
                            </h3>
                        </div>

                        <div class="row">
                            <div class="meta">
                                {% if post.data.status is same as 'published' %}
                                    Published {{ post.data.published_at|date('M jS, Y') }}
                                {% elseif post.data.status is same as 'scheduled' %}
                                    Scheduled {{ post.data.published_at|date('M jS, Y') }}
                                {% else %}
                                    {{ post.data.status }}
                                {% endif %}

                                &mdash; Updated {{ post.data.updated_at|date('M jS, Y') }}
                            </div>

                            {% if post.data.status is same as 'published' %}
                            <div class="views">
                                <strong>{{ post.data.views ?? 0 }}</strong>
                                {% if post.data.views ?? 0 is same as 1 %}
                                    view
                                {% else %}
                                    views
                                {% endif %}
                            </div>
                            {% endif %}
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

{% include 'admin/partials/footer.twig' %}
